<nav class="navbar sticky-top navbar-expand-sm navbar-light bg-light">
  <a class="navbar-brand" href="/">Gloomy Weather</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navigation-bar" aria-controls="main-navigation-bar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navigation-bar">
    <div class="navbar-nav mr-auto"></div>

    <div class="navbar-nav float-right">
      <% if @user %>

        <a class="nav-item nav-link" href="/users/<%= @user.slug %>">MY PRESETS</a>

        <a class="nav-item nav-link dropdown-toggle dropdown" href="#" id="logged-in-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-user"></i> <%= @user.username %>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="logged-in-dropdown">
          <a class="dropdown-item" href="/users/account">ACCOUNT</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/logout">LOG OUT</a>
        </div>

      <% else %>

        <a class="nav-item nav-link dropdown-toggle dropdown" href="#" id="login-menu-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            LOG IN
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="login-menu-dropdown">
          <form class="px-4 py-3" action="/login" method="POST">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" class="form-control" id="username" name="username" placeholder="Username">
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" class="form-control" id="password" name="password" placeholder="Password">
            </div>
            <!-- REMEMBER ME CHECKBOX
            <div class="form-group">
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="dropdownCheck">
                <label class="form-check-label" for="dropdownCheck">
                  Remember me
                </label>
              </div>
            </div>
            -->
            <button type="submit" class="btn btn-primary btn-block">Log In</button>
          </form>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Forgot password? Click me!</a>
        </div>

        <a class="nav-item nav-link" href="/signup">SIGN UP</a>
      <% end %>
    </div>
    <!-- SEARCH BAR
    <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
    -->
  </div>
</nav>
