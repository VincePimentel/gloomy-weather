<% @page_info = {
  title: nil,
  heading: nil
} %>

<form action="/presets" method="post">
  <div class="row justify-content-center">
    <div id="global-controls" class="btn-group">
      <button id="save-preset" type="submit" class="btn">save</button>
      <button id="pause-play" type="button" class="btn"><i class="fas fa-play"></i> | <i class="fas fa-pause"></i></button>
      <button id="reset-all" type="button" class="btn">reset</button>
    </div>
  </div>

  <div class="row">&nbsp;</div>

  <div class="container">

    <br>

    <div class="row justify-content-center">

      <% @sources.each do |id, source| %>

      <% id = id.to_s %>

        <div class="col-sm-3 text-center">
          <button id="<%= id %>" type="button" class="btn preset-button"><i id="<%= id %>-icon" class="<%= source[:icon] %> inactive-sound"></i></button>

          <audio id="<%= id %>-audio" preload="auto" loop>
            <source src="<%= source[:url] %>" type="audio/mpeg">
          </audio>

          <br>

          <input id="<%= id %>-input" class="form-control-plaintext text-center" type="number" name="<%= id %>_volume" value="" hidden>

          <span id="<%= id %>-volume" class="badge badge-pill"></span>

        </div>

      <% end %>

    </div> <!-- row -->
  </div> <!-- container -->

</form>

<div class="container">
  <h4>to-do:</h4>
  <ol>
    <li>add invalid feedback to forms</li>
    <li>fix audio levels</li>
  </ol>
</div>
